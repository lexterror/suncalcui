<html>
<head>
<title>World Map and Clock</title>
<script src="jquery.min.js"></script>
<script src="sinon.js"></script>
<script src="suncalc.js"></script>
<link rel="stylesheet" href="dist/style.css">
<script src="dist/d3.min.js"></script>
<script src="dist/topojson.min.js"></script>
<script src="dist/d3.geo.projection.min.js"></script>
<script src="dist/moment.min.js"></script>
<script src="dist/moment-timezone.min.js"></script>
<script src="daylight_map_script.js"></script>
<script src="worldclock.js"></script>
<style>
    a{
        box-sizing: content-box
    }
    @font-face {

            font-family: 'digital';

            src: url('fonts/Chainprinter W00 Regular.eot');

                /* IE9 Compat Modes */

            src: url('fonts/Chainprinter W00 Regular.eot?#iefix') format('embedded-opentype'),
                /* IE6-IE8 */

                 url('fonts/Chainprinter W00 Regular.woff2') format('woff2'),
                /* Super Modern Browsers */

                 url('fonts/Chainprinter W00 Regular.woff') format('woff'),
                /* Pretty Modern Browsers */

                 url('fonts/Chainprinter W00 Regular.ttf') format('truetype');
 
                /* Safari, Android, iOS */
    } 
</style>
    <meta name="viewport" content="width=device-width">
    <link rel="shortcut icon" href="star.ico">
    <style>
    body {
        background: #333;
        width: 880px;
        margin: 0 auto;
        }
   container {
        width: 880px;
        margin: 0 auto;
   }
   clock_disp {
        width: 880px;
        margin: 0 auto;
   }
   #mycustomclocks {
       width:880px;
       height:64px;
       margin-bottom: 15px;
   }
   #mycustomclocks2 {
       width:880px;
       height:64px;

   }
   #newcustomclock button {
       height:64px;
       float:left;
       background:#aaaaaa;
       color:#000;
       font-family:  digital;
       border:1px solid #999999;
       margin-left: 1px;
       width: 175px;
   }
/* http://meyerweb.com/eric/tools/css/reset/ 
   v2.0 | 20110126
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
    margin: 0 auto;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
    display: block;
}
body {
    line-height: 1;
}
ol, ul {
    list-style: none;
}
blockquote, q {
    quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
    content: '';
    content: none;
}
table {
    border-collapse: collapse;
    border-spacing: 0;
}  
#daylight-map {
    padding: 0 !important;
    border: 0 !important;
}
    </style>
</head>
<body>
<div class="container">
<div id="mycustomclockstop">

<div id="newcustomclock">
<button type="button" id="homeclock" onclick="gohome()" style="background:lawngreen !important;">
</button></div>

<div id="newcustomclock">
<button type="button" onclick="quitofunc()" id="quito">
</button></div>

<div id="newcustomclock">
<button type="button" onclick="parisfunc()" id="paris">
</button></div>

<div id="newcustomclock">
<button type="button" onclick="madridfunc()" id="madrid">
</button></div>

<div id="newcustomclock">
<button type="button" onclick="montrealfunc()" id="montreal">
</button></div>

</div>
<span id="mycity"></span>
<svg id="daylight-map"></svg>
<img src="home.gif" id="casa" width="32" height="32" style="margin-top:-255px;margin-left:440px;" title="">

<style>
#location {
position: absolute;
height: 440px;
width:880px;
top: 0;
}
#location span {
  position: absolute;
  top: 20;
  bottom: 0;
  left: 0;
  right: 0;
  color: #fff;
  visibility: hidden;
  opacity: 1;
}
#location:hover #mycity {
    visibility: visible;
    opacity: 1;
}
#customtime {
    width: 880px;
    float: left;
    height: 32px;
    color: #fff;
    font-family: digital;
    z-index: 999999999999;
    }
#changeloc {
 width: 48px;
}
#localstuff {
    width: 880px;
    height: 24px;
    padding-top: 10px;
    line-height: 24px;
    background: #aaa;
    padding-bottom: 10px;
    color: #000 !important;
    margin:0 auto;
    text-align: center;
}   
#mytime {
    float: right;
    font-family: digital;
    font-size: 24px;
    color: #000; 
}
#mycity {
    font-family: digital;
    font-size: 12px;
    z-index: 5555555555555;
    color: #000; 
}
img:focus::before {
    content: attr(title);
}
</style>

<div id="mycustomclocks">

<div id="newcustomclock">
<button type="button" onclick="ibizafunc()" id="ibiza">
</button></div>

<div id="newcustomclock">
<button type="button" onclick="londonfunc()" id="london">
</button></div>

<div id="newcustomclock">
<button type="button" onclick="sydneyfunc()" id="sydney">
</button></div>

<div id="newcustomclock">
<button type="button" onclick="newyorkfunc()" id="newyork">
</button></div>

<div id="newcustomclock">
<button type="button" onclick="sevillefunc()" id="seville">
</button></div>

</div>
<script>
$(document).ready(function(){
 var title = $("#casa").attr("title");
 $(title).show();
});
</script>
<script>
function gohome() {
	quito=0;
	paris=0;
	madrid=0;
	montreal=0;
    ibiza=0;
    london=0;
    seville=0;
    newyork=0;
    sydney=0;
    mychange++;
	update_clock();
    mychange=0;
	update_clock();
}
function quitofunc() { 
	quito=1;
	paris=0;
	madrid=0;
	montreal=0;
    ibiza=0;
    london=0;
    seville=0;
    newyork=0;
    sydney=0;
	update_clock();
	}
function parisfunc() { 
	paris=1;
	quito=0;
    madrid=0;
    montreal=0;
    ibiza=0;
    london=0;
    seville=0;
    newyork=0;
    sydney=0;
	update_clock();
	}
function madridfunc() { 
	paris=0;
	quito=0;
	madrid=1;
	montreal=0;
    ibiza=0;
    london=0;
    seville=0;
    newyork=0;
    sydney=0;
	update_clock();
	}
function montrealfunc() { 
	paris=0;
	quito=0;
    madrid=0;
    montreal=1;
    ibiza=0;
    london=0;
    seville=0;
    newyork=0;
    sydney=0;
	update_clock();
	}
function ibizafunc() { 
	paris=0;
	quito=0;
    madrid=0;
    montreal=0;
    ibiza=1;
    london=0;
    seville=0;
    newyork=0;
    sydney=0;
	update_clock();
	}
function londonfunc() { 
	paris=0;
	quito=0;
    madrid=0;
    montreal=0;
    ibiza=0;
    london=1;
    seville=0;
    newyork=0;
    sydney=0;
	update_clock();
	}
function sydneyfunc() { 
	paris=0;
	quito=0;
    madrid=0;
    montreal=0;
    ibiza=0;
    london=0;
    seville=0;
    newyork=0;
    sydney=1;
	update_clock();
	}
function newyorkfunc() { 
	paris=0;
	quito=0;
    madrid=0;
    montreal=0;
    ibiza=0;
    london=0;
    seville=0;
    newyork=1;
    sydney=0;
	update_clock();
	}
function sevillefunc() { 
	paris=0;
	quito=0;
    madrid=0;
    montreal=0;
    ibiza=0;
    london=0;
    seville=1;
    newyork=0;
    sydney=0;
	update_clock();
	}
</script>
<div id="customtime">
  <button type="button" id="changeloc" onclick="right();">&larr;</button>
  <button type="button" id="changeloc" onclick="left();">&rarr;</button>  
  Year: <input type="text" name="year" id="year" style="width:50px;">
  Month: <input type="text" name="month" id="month" style="width:50px;">
  Date: <input type="text" name="date" id="date" style="width:50px;">
  Hour: <input type="text" name="date" id="hours" style="width:50px;">
  Minute: <input type="text" name="date" id="minutes" style="width:50px;">
  <button type="button" onclick="custom();">Go!</button>
  <button type="button" onclick="reset();">Reset!</button>  
</div>

<script>
function left(){
quito = 0;
paris =0;
madrid =0;
montreal=0;
mychange--;
update_clock();
}
function right(){
quito=0;
paris=0;
madrid =0;
montreal=0;
mychange++;
update_clock();
}
</script>
<div id="worldclock_">
</div>
</div>
<div id="moonphase">
<table id="localtoast" style="float:right">
<tr><td id="local"><img id="phase" width="64" height="64" style="z-index: 55555 !important;float:left;padding:14px;"></img></td></tr>
</table>
</div>
<div id="clock_disp"></div>
<div id="minime" style="color:#fff"></div>
<style>
#worldclock {
    z-index: 999999999999;
}
#moonphasetext {
    text-align: center;
    margin: 0 auto;
}
#localtoast table {
    color: #ffffff;
}
#localtoast td {
    height: 14px;
    padding: 5px !important;
}
#localtoast table, #localtoast td, #localtoast th {
  border: 1px solid #aaa;
  color: #fff;
  background-image: url("toast.png");background-repeat: repeat;
}
#moonphase {
    float: left;
    margin-top: -240px;
    z-index: 555555 !important;
    position:absolute;
    font-family: digital;
    font-size: 12px;
    line-height: 14px;
    margin-left: 20px !important;
    border: 1px solid #000;
    color: #ffffff;
}
</style>
</body>
<script>

  var ispressed = 1;

  function custom() {
  if (ispressed == 1)
  {
  var year = document.getElementById("year").value;
  var month = document.getElementById("month").value - 1;
  var date = document.getElementById("date").value;
  var hour = document.getElementById("hours").value;
  var minutes = document.getElementById("minutes").value;
  clock = sinon.useFakeTimers(new Date(year,month,date,hour,minutes).getTime());
  new Date();
  update_clock();
  MySunCalc();
  
  map.currDate = new Date();
  map.init();

  ispressed = 0;
  }
  }

  function reset() {
  ispressed = 1;
  clock.restore();
  new Date(); //=> will return the real time again (now)  
  update_clock();
  MySunCalc();
   
  map.currDate = new Date();
  map.init();  
  }
</script>
</html>
